<MobileConnectConfig>
    <DataSourceName>jdbc/CONNECT_DB</DataSourceName>
    <EncryptAppend>
        TheServingOperatorthencanrecognizetheyhavereceivedanencryptedMSISDNanddecryptthestringusingitsprivatekeywichisnotknowntotheOneAPI
    </EncryptAppend>
    <AuthenticationEndpoint>/authenticationendpoint</AuthenticationEndpoint>
    <DefaultClaimUrl>http://wso2.org/claims</DefaultClaimUrl>
    <OpenIdRegClaimUrl>http://schema.openid.net/2007/05/claims</OpenIdRegClaimUrl>
    <AdminUrl>https://localhost:9443</AdminUrl>
    <AdminUsername>admin</AdminUsername>
    <AdminPassword>admin</AdminPassword>
    <Keyfile>dialogprivate.key</Keyfile>
    <IsSpValidationDisabled>true</IsSpValidationDisabled>
    <GSMAExchangeConfig>
        <SOHost>integration-axiatagroup.apiexchange.org</SOHost>
        <Organization>axiaD:\1.6-RC2\log\mobile-connect.xmltagroup</Organization>
        <AuthToken>d0f865b4453be954b03b8b67556a395</AuthToken>
        <ServingOperator>
            <mcc>413</mcc>
            <mnc>02</mnc>
        </ServingOperator>
    </GSMAExchangeConfig>
    <IsPcrServiceEnabled>false</IsPcrServiceEnabled>
    <SMS>
        <Endpoint>http://localhost:9763/ussdstub/v1/outbound</Endpoint>   <!--https://URL to APIM:8243/smsmessaging/v1/outbound/8899/requests -->
        <AuthToken>4442137174b27a9837e745c711f4e31</AuthToken>
        <AuthUrl>http://localhost:9763/authenticationendpoint/sms</AuthUrl>

        <LoginMessage>To login to ${application}, follow this link &#xA; Do not share as it is unique to you. &#xA; ${link}</LoginMessage>
        <RegistrationMessage>To registration to ${application}, follow this link &#xA; Do not share as it is unique to you. &#xA; ${link}</RegistrationMessage>
        <OperatorSpecificMessages> <!-- Contains operator specific ussd messages -->
            <OperatorSpecificMessage operator="op1">
                <!-- ${application} is replaced with the application name -->
                <!-- ${link} is replaced with the login url -->
                <LoginMessage>op1 To login to ${application}, follow this link &#xA; Do not share as it is unique to you. &#xA; ${link}</LoginMessage>
                <RegistrationMessage>op1 To register to ${application}, follow this link &#xA; Do not share as it is unique to you. &#xA; ${link}</RegistrationMessage>
            </OperatorSpecificMessage>
            <OperatorSpecificMessage operator="op2">
                <!-- ${application} is replaced with the application name -->
                <!-- ${link} is replaced with the login url -->
                <LoginMessage>op1 To login to ${application}, follow this link &#xA; Do not share as it is unique to you. &#xA; ${link}</LoginMessage>
            </OperatorSpecificMessage>
        </OperatorSpecificMessages>

        <AesKey>wso2encryptdecyt</AesKey>
        <IsShortUrl>true</IsShortUrl>   <!-- ENABLE DISABLE external url shortening service usage-->
        <ShortUrlClass>com.wso2telco.gsma.shorten.BitlyUrlShorten</ShortUrlClass>
        <ShortUrlService>https://api-ssl.bitly.com/v3/shorten</ShortUrlService>
        <AccessToken>fae2517b1a95b740f33058e28a1796faa80643a4</AccessToken>
        <SenderAddress>The sender no for sms authentication</SenderAddress>
        <TimeoutConfig>
            <SocketTimeout>60</SocketTimeout>
            <ConnectTimeout>60</ConnectTimeout>
            <ConnectionRequestTimeout>30</ConnectionRequestTimeout>
        </TimeoutConfig>
        <WelcomeMessageDisabled>true</WelcomeMessageDisabled>
        <DefaultWelcomeMessage>Welcome to Mobile Connect - a simple and safer way to login which is always free. Please visit
            http://mobileconnect.in to know more.</DefaultWelcomeMessage>
        <OperatorWelcomeMessage>
            <!--Multiple operators can be configured here-->
            <Operator>
                <Name>spark</Name>
                <Message>Spark welcomes you on Mobile Connect - a simple and safer way to login which is always free. Please visit
                    http://mobileconnect.in to know more.
                </Message>
                <Disabled>true</Disabled>
            </Operator>
        </OperatorWelcomeMessage>
    </SMS>
    <TimeoutConfig>
        <SocketTimeout>60</SocketTimeout>
        <ConnectTimeout>60</ConnectTimeout>
        <ConnectionRequestTimeout>30</ConnectionRequestTimeout>
    </TimeoutConfig>
    <USSD>
        <Endpoint>http://localhost:9763/ussdstub/v1/outbound</Endpoint>    <!-- url of the ussd stub -->
        <AuthToken>Authorization token to access the USSD API</AuthToken>
        <MessageContent>Message content for USSD authentication</MessageContent> <!--Message that sends to authenticate user with ussd prompt-->
        <MessageContentPin>Message content for USSD pin authentication</MessageContentPin> <!--Message that sends to authenticate user with ussd prompt with pin-->
        <ShortCode>1721</ShortCode>
        <Keyword>123</Keyword>
        <Pinauth>true</Pinauth>
        <DashBoard>Mobile connect</DashBoard>
        <USSDContextEndpoint>Callback URL for USSD authentication</USSDContextEndpoint>
        <LoginNotifyUrl>http://localhost:9763/sessionupdater/tnspoints/endpoint/login/ussd</LoginNotifyUrl> <!-- USSD inbound : login call response endpoint -->
        <RegistrationNotifyUrl>http://localhost:9763/sessionupdater/tnspoints/endpoint/registration/ussd</RegistrationNotifyUrl> <!-- USSD inbound : registration call response endpoint -->
        <PinLoginNotifyUrl>http://localhost:9763/sessionupdater/tnspoints/endpoint/pin/login/ussd</PinLoginNotifyUrl> <!-- USSD inbound : PIN login call response endpoint -->
        <PinRegistrationNotifyUrl>http://localhost:9763/sessionupdater/tnspoints/endpoint/pin/registration/ussd</PinRegistrationNotifyUrl> <!-- USSD inbound : PIN registration call response endpoint -->
        <PinLoginMessage>Login message for ussd pin ${application}&#xA;1. Yes&#xA;2. No</PinLoginMessage> <!-- Common USSD message for PIN login -->
        <PinRegistrationMessage>Registration message for ussd pin ${application}&#xA;1. Yes&#xA;2. No</PinRegistrationMessage> <!-- Common USSD message for PIN registration -->
        <OperatorSpecificPinMessages> <!-- Contains operator specific ussd PIN messages -->
            <OperatorSpecificMessage operator="op1">
                <!-- ${application} is replaced with the application name -->
                <RegistrationMessage>op1 Registration message for ussd pin ${application}&#xA;1. Yes&#xA;2. No</RegistrationMessage>
                <LoginMessage>op1 Login message for ussd pin ${application}&#xA;1. Yes&#xA;2. No</LoginMessage>
            </OperatorSpecificMessage>
            <OperatorSpecificMessage operator="op2">
                <!-- ${application} is replaced with the application name -->
                <RegistrationMessage>op2 Registration message for ussd pin ${application}&#xA;1. Yes&#xA;2. No</RegistrationMessage>
                <LoginMessage>op2 Login message for ussd pin ${application}&#xA;1. Yes&#xA;2. No</LoginMessage>
            </OperatorSpecificMessage>
        </OperatorSpecificPinMessages>
        <PinConfirmMessage>Re-enter your PIN</PinConfirmMessage> <!-- PIN confirmation ussd message -->
        <PinInvalidFormatMessage>Invalid format. Please re-enter your pin</PinInvalidFormatMessage> <!-- PIN invalid format error ussd message -->
        <PinMismatchMessage>Pin mismatch. Please re-enter your pin</PinMismatchMessage> <!-- PIN mismatch error ussd message -->
        <PinRegistrationSuccessMessage>Registration Success</PinRegistrationSuccessMessage> <!-- PIN registration success ussd message -->
        <PinInvalidFormatAttemptsExceedMessage>Access Denied. You have exceeded maximum number of retry attempts</PinInvalidFormatAttemptsExceedMessage> <!-- Maximum attempts exceeded for PIN format error ussd message -->
        <PinMismatchAttemptsExceedMessage>Access Denied. You have exceeded maximum number of confirmation attempts</PinMismatchAttemptsExceedMessage> <!-- Maximum attempts exceeded for PIN mismatch error ussd message -->
        <USSDPinContextEndpoint>Callback URL for USSD pin authentication</USSDPinContextEndpoint>
        <RegistrationMessage>Message content for USSD registration ${application}&#xA;1. Yes&#xA;2. No</RegistrationMessage> <!-- Common USSD registration message -->
        <PinMaxLength>4</PinMaxLength> <!-- PIN maximum length -->
        <InvalidFormatPinAttempts>3</InvalidFormatPinAttempts> <!-- Maximum allowed PIN invalid format attempt count -->
        <PinMismatchAttempts>3</PinMismatchAttempts> <!-- Maximum allowed PIN mismatch attempt count -->
        <LoginMessage>Message content for USSD login ${application}&#xA;1. Yes&#xA;2. No</LoginMessage> <!-- Common USSD login message -->
        <AcceptUserInputs>1,yes,ok,y</AcceptUserInputs> <!-- comma separated list of USSD user accept input responses -->
        <RejectUserInputs>2,no,n</RejectUserInputs> <!-- comma separated list of USSD user reject input responses -->
        <OperatorSpecificMessages> <!-- Contains operator specific ussd messages -->
            <OperatorSpecificMessage operator="op1">
                <!-- ${application} is replaced with the application name -->
                <RegistrationMessage>op1 Message content for USSD registration ${application}&#xA;1. Yes&#xA;2. No</RegistrationMessage>
                <LoginMessage>op1 Message content for USSD login ${application}&#xA;1. Yes&#xA;2. No</LoginMessage>
            </OperatorSpecificMessage>
            <OperatorSpecificMessage operator="op2">
                <!-- ${application} is replaced with the application name -->
                <RegistrationMessage>op2 Message content for USSD registration ${application}&#xA;1. Yes&#xA;2. No</RegistrationMessage>
                <LoginMessage>op2 Message content for USSD login ${application}&#xA;1. Yes&#xA;2. No</LoginMessage>
            </OperatorSpecificMessage>
        </OperatorSpecificMessages>
        <TimeoutConfig> <!--Timeout for sending ussd request-->
            <SocketTimeout>0</SocketTimeout>
            <ConnectTimeout>0</ConnectTimeout>
            <ConnectionRequestTimeout>0</ConnectionRequestTimeout>
        </TimeoutConfig>
    </USSD>

    <SAA>
        <AuthenticationEndpoint>http://localhost:9763/saaserver/services/serverAPI/api/v1/clients/{msisdn}/authenticate</AuthenticationEndpoint>
        <RegistrationEndpoint>http://localhost:9763/saaserver/services/serverAPI/api/v1/clients/{msisdn}/is_registered</RegistrationEndpoint>
        <PushServiceEndpoint>http://localhost:9763/saaserver/services/pushServiceAPI/client/{msisdn}/send</PushServiceEndpoint>
    </SAA>
    <MIFEOpenIDTokenBuilderConfig>
        <acrHostUri>https://localhost:9443/acrengine/</acrHostUri>
        <retrieveService>ACRRetrieveService/V1</retrieveService>
        <createService>ACRCreateService/V1</createService>
        <appProvService>AppProvisionService/V1</appProvService>
        <serviceProvider>CON001</serviceProvider>
        <serviceKey>con123</serviceKey>
        <acrAccessToken>678934ac02914dd7edddeb4de947f2a</acrAccessToken>
    </MIFEOpenIDTokenBuilderConfig>
    <SessionUpdaterConfig>
        <ussdsend>http://localhost:9763/ussdstub/v1/outbound</ussdsend>
        <notifyurl>http://localhost:9763/sessionupdater/tnspoints/endpoint/ussd/pin</notifyurl>
        <accesstoken>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</accesstoken>
        <shortcode>tel:1721</shortcode>
        <message>Enter your Mobile ID PIN</message>
        <retry_message>Incorrect Pin. Enter PIN again</retry_message>
        <error_message>You have entered invalid pin 3 times.Your session is over</error_message>
        <keyword>3456</keyword>
        <admin_url>https://localhost:9443</admin_url>
        <aeskey>wso2encryptdecyt</aeskey>
        <adminusername>admin</adminusername>
        <adminpassword>admin</adminpassword>
        <mpin-accesstoken>accesstoken</mpin-accesstoken>
        <mpin-url>https://api.mepin.com/transactions/show</mpin-url>
        <mpin-clientid>815ed87f78f81f4e108650f0cbb98f46</mpin-clientid>
    </SessionUpdaterConfig>

    <AuthenticatorSelectionConfig>
        <ServiceProviderBasedSelectionEnabled>false</ServiceProviderBasedSelectionEnabled>
        <MobileNetworkOperatorBasedSelectionEnabled>false</MobileNetworkOperatorBasedSelectionEnabled>
    </AuthenticatorSelectionConfig>

    <!-- Hostname/IP and port of the SMS Listener web-app. This should be set to publicly accessible hostname/IP of
    Identity Server. By default the port would be 9763+[offset] -->
    <ListenerWebappHost>http://localhost:9763</ListenerWebappHost>
    <MSISDN>
        <EncryptionKey>wso2encryptdecyt</EncryptionKey> <!-- AES encryption key for MSISDN header encryption -->
        <ValidationRegex>^[0-9]{12}$</ValidationRegex> <!-- MSISDN format validation regex -->
    </MSISDN>
    <AuthProxy>
        <DataSourceName>jdbc/AXIATA_MIFE_DB</DataSourceName> <!-- m connect data source for -->
        <AuthorizeURL>/oauth2/authorize?</AuthorizeURL> <!-- authorize redirect url -->
    </AuthProxy>
    <HEADERENRICH>
        <ipHeaderName>ipAddress</ipHeaderName>
        <Operator>
            <operatorName>operator 1 name</operatorName>
            <ipValidation>false</ipValidation> <!-- to decide ip validation should be enabled for the operator -->
               <!-- The IP range the operator accepting the msisdn from the header -->
            <MobileIPRanges>
                <IPRange>FROM IP:TO IP</IPRange>
                <IPRange>XX.XX.XX.XX:XX.XX.XX.XX</IPRange>
                <IPRange>XX.XX.XX.XX:XX.XX.XX.XX</IPRange>
                <IPRSMSEndpointange>XX.XX.XX.XX:XX.XX.XX.XX</IPRSMSEndpointange>
            </MobileIPRanges>
        </Operator>
        <Operator>
            <operatorName>operator 2 name</operatorName>
            <ipValidation>false</ipValidation> <!-- to decide ip validation should be enabled for the operator -->
            <MobileIPRanges>  <!-- The IP range the operator accepting the msisdn from the header -->
                <IPRange>XX.XX.XX.XX:XX.XX.XX.XX</IPRange>
                <IPRange>XX.XX.XX.XX:XX.XX.XX.XX</IPRange>
            </MobileIPRanges>
        </Operator>
    </HEADERENRICH>

    <DataPublisher>
        <Enabled>true</Enabled>
        <UserName>admin</UserName>
        <Password>admin</Password>
        <DASUrl>tcp://localhost:7612</DASUrl>
        <DASSecureUrl>ssl://localhost:7712</DASSecureUrl>
    </DataPublisher>

    <OperatorDiscoveryNamesMapping>
        <entry>
            <key>airtel</key>
            <value>airtel</value>
        </entry>
        <entry>
            <key>tata</key>
            <value>tatadocomo</value>
        </entry>
        <entry>
            <key>vodafone_india</key>
            <value>vodafone</value>
        </entry>
        <entry>
            <key>idea</key>
            <value>idea</value>
        </entry>
        <entry>
            <key>uninor</key>
            <value>telenor</value>
        </entry>
        <entry>
            <key>aircel</key>
            <value>aircel</value>
        </entry>
        <entry>
            <key>spark</key>
            <value>spark</value>
        </entry>
    </OperatorDiscoveryNamesMapping>

    <SelfServicePortal>
        <SPOAuthClientKey></SPOAuthClientKey>
        <SPOAuthClientSecret></SPOAuthClientSecret>
        <UILoginUrl>https://localhost:9443/selfserviceportal/#/login</UILoginUrl>
        <TokenEndpoint>https://localhost:9443/oauth2/token</TokenEndpoint>
        <CallbackUrl>https://localhost:9443/selfserviceportal/api/v1/auth/callback</CallbackUrl>
        <UserInfoCall>https://localhost:9443/oauth2/userinfo?schema=openid</UserInfoCall>
        <AuthorizeCall>https://localhost:9443/authproxy/oauth2/authorize/operator/${operator}</AuthorizeCall>
        <DiscoveryAPICall></DiscoveryAPICall>
        <DiscoveryAPIToken></DiscoveryAPIToken>
        <MsisdnClaim>msisdn</MsisdnClaim> <!-- MSISDN claim on user info call -->
    </SelfServicePortal>

    <OperatorRecovery>
        <RecoveryOption>discovery</RecoveryOption>
        <RecoveryOptionURL>https://url</RecoveryOptionURL>
        <RecoveryOptionAuthCode>oauthCode</RecoveryOptionAuthCode>
    </OperatorRecovery>
    <UserRegistrationAPI>
        <MaxMSISDNLimit>100</MaxMSISDNLimit>
    </UserRegistrationAPI>
</MobileConnectConfig>
